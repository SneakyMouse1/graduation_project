(()=>{"use strict";const e=({formId:e,someElem:t=[]})=>{const o=document.getElementById(e),n=document.createElement("div");try{if(!o)throw new Error("верните форму!");o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=new FormData(o),l={},r=o.querySelectorAll("input");var c;e.forEach(((e,t)=>{l[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id);t&&("block"===e.type?l[e.id]=t.textContent:"input"===e.type&&(l[e.id]=t.value))})),(e=>{let t=!0;return o.querySelectorAll("input").forEach((e=>{e.value?e.style.border="":(t=!1,e.style.border="2px solid red"),e.addEventListener("focus",(()=>{o.querySelectorAll("input").forEach((e=>{e.style.border=""}))}))})),t})()&&(n.textContent="Загрузка...",o.append(n),(c=l,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{n.textContent="Спасибо! Заявка отправлена",r.forEach((e=>{e.value=""}))})).catch((e=>{n.textContent="Ошибка ..."})))})()}))}catch(e){console.log(e.message)}};(e=>{const t=document.querySelectorAll(".count_1 span"),o=document.querySelectorAll(".count_2 span"),n=document.querySelectorAll(".count_3 span"),l=document.querySelectorAll(".count_4 span");let r;const c=()=>{let c=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{timeRemaining:t,days:Math.floor(t/60/60/24),hours:Math.floor(t/60/60%24),minutes:Math.floor(t/60%60),seconds:Math.floor(t%60)}})();for(let e=0;e<t.length;e++)try{t[e].textContent=c.days<10?"0"+c.days:c.days,o[e].textContent=c.hours<10?"0"+c.hours:c.hours,n[e].textContent=c.minutes<10?"0"+c.minutes:c.minutes,l[e].textContent=c.seconds<10?"0"+c.seconds:c.seconds}catch(e){console.log(e.message)}if(c.timeRemaining<=0){clearInterval(r);for(let e=0;e<t.length;e++)try{t[e].textContent="00",o[e].textContent="00",n[e].textContent="00",l[e].textContent="00"}catch(e){console.log(e.message)}}};c(),r=setInterval(c,500)})("21 july 2022 12:00"),(()=>{const e=document.querySelector(".smooth-scroll");e.style.display="none",window.addEventListener("scroll",(()=>{const t=window.pageYOffset,o=document.documentElement.clientHeight;t>o&&(e.style.display="block"),t<o&&(e.style.display="none")})),e.addEventListener("click",(()=>{const e=document.getElementById("header");e?e.scrollIntoView({behavior:"smooth",block:"start",inline:"center"}):document.body.scrollIntoView({behavior:"smooth",block:"start",inline:"center"})}))})(),((e=1500)=>{const t=document.getElementById("calc");if(t){const o=document.getElementById("calc-type"),n=document.getElementById("calc-type-material"),l=document.getElementById("calc-input"),r=document.getElementById("calc-total");let c=0;const a=()=>{const t=+o.options[o.selectedIndex].value,r=+l.value,a=+n.options[n.selectedIndex].value;return c=t&&r&&a?e*r*t*a:0,c};t.addEventListener("input",(e=>{if(e.target===l&&(e.target.value=e.target.value.replace(/\D+/g,"")),0!==n.selectedIndex&&0!==o.selectedIndex||(c=0),e.target===o||e.target===n||e.target===l){const e=a();(({timing:e,draw:t,duration:o})=>{let n=performance.now();requestAnimationFrame((function l(r){let c=(r-n)/o;c>1&&(c=1);let a=e(c);t(a),c<1&&requestAnimationFrame(l)}))})({duration:300,timing:e=>e,draw(t){r.value=Math.round(t*e)}})}}))}})(1e3),(()=>{const e=document.querySelector(".header-modal"),t=document.querySelector(".overlay"),o=document.getElementsByClassName("btn")[1],n=document.querySelector(".header-modal__close");o.addEventListener("click",(o=>{o.preventDefault(),t.style.display="block",e.style.display="block"})),n.addEventListener("click",(()=>{t.style.display="none",e.style.display="none"}));const l=document.querySelectorAll(".service-button"),r=document.querySelector(".services-modal"),c=document.querySelector(".services-modal__close"),a=document.querySelector(".overlay"),s=r.querySelector('input[name="subject"]');l.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),a.style.display="block",r.style.display="block",s.value=e.target.attributes[1].value}))})),c.addEventListener("click",(e=>{e.preventDefault(),a.style.display="none",r.style.display="none"}))})(),(()=>{const e=document.querySelector("body"),t=document.querySelectorAll(".sertificate-document"),o=document.querySelector(".overlay"),n=document.createElement("div"),l=o.cloneNode(!0);t.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();let o=t.target.closest(".sertificate-document").getAttribute("href");const r=document.createElement("img");r.setAttribute("src",o),e.append(n),n.innerHTML='\n            <span title="Close" class="header-modal__close">x</span>\n            ',n.append(r),n.append(l),r.style.display="block",r.style.position="fixed",r.style.top="50%",r.style.left="50%",r.style.zIndex="9999",r.style.transform="translate(-50%, -50%)",r.style.maxHeight="65%",l.style.display="block",n.addEventListener("click",(()=>{n.innerHTML="",n.remove()}))}))}))})(),(()=>{const e=document.querySelectorAll("form [name=fio]"),t=document.querySelectorAll("form [name=phone]");e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-я a-z]/gi,"")}))})),e.forEach((e=>{e.addEventListener("blur",(e=>{e.target.value=(e=>{if(/\s\s/gi.test(e)){do{e=e.replace(/(\s\s)/gi,(e=>" "))}while(/\s\s/gi.test(e));e=(e=e.replace(/^\s/i,"")).replace(/\s$/gi,"")}return e})(e.target.value),e.target.value=e.target.value.replace(/\S+/gi,(e=>{e=e.split("");for(let t=0;t<e.length;t++)0===t?(e[t].toUpperCase(),e[t]=e[t].toUpperCase()):e[t]=e[t].toLowerCase();return e.join("")}))}))})),t.forEach((e=>{e.setAttribute("maxlength","16"),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^+\d]/g,"")}))}))})(),e({formId:"form1",someElem:[{type:"input",id:"calc-total"}]}),e({formId:"form2",someElem:[{type:"block",id:"calc-total"}]}),e({formId:"form3",someElem:[{type:"block",id:"calc-total"}]}),e({formId:"form4",someElem:[{type:"block",id:"calc-total"}]}),e({formId:"form5",someElem:[{type:"block",id:"calc-total"}]}),e({formId:"form6",someElem:[{type:"block",id:"calc-total"}]}),e({formId:"form7",someElem:[{id:"calc-total"}]})})();